DROP TABLE IF EXISTS formation;
DROP TABLE IF EXISTS etudiant;

CREATE TABLE formation (
  ID INT PRIMARY KEY,
  LIBELLE VARCHAR(250) NOT NULL,
  CHEMIN VARCHAR(250) NOT NULL
);

CREATE TABLE etudiant (
   NUMERO INT PRIMARY KEY,
   NOM VARCHAR(250) NOT NULL,
   PRENOM VARCHAR(250) NOT NULL,
   MAIL VARCHAR(250) NOT NULL,
   FORMATION_ID INT NOT NULL,
   FOREIGN KEY (FORMATION_ID) REFERENCES formation(ID)
);

CREATE TABLE gemme (
    ID INT PRIMARY KEY,
    NOM VARCHAR (50) NOT NULL,
    COULEUR VARCHAR (30) NOT NULL,
    PROBA FLOAT NOT NULL,
    PERSONNE_MAX INT NOT NULL,
    VALEUR INT NOT NULL
                   );

CREATE TABLE etudiantGemme
(
    ID_ETUDIANT INT NOT NULL,
    ID_GEMME    INT NOT NULL,
    QUANTITE    INT NOT NULL DEFAULT 0
);

INSERT INTO formation (ID, LIBELLE, CHEMIN) VALUES
  (1, 'M1 INFO Groupe 1', 'M1/INFO/1'),
  (2, 'M1 INFO Groupe 2', 'M1/INFO/2');

INSERT INTO etudiant (NUMERO, NOM, PRENOM, MAIL, FORMATION_ID) VALUES
 (513145161, 'RAFFORT', 'Adrien', 'adrien73400@icloud.com', 2);


INSERT INTO gemme(id, nom, couleur, proba, personne_max, valeur) VALUES
(1, 'Rubis', 'E86967', 0.05, 10, 100),
(2, 'Saphir', '80C6F1', 0.1, 20, 80),
(3, 'Emeraude', '61D6B9', 0.15, 50, 50),
(4, 'Am√©thyste', 'B58CE7', 0.18, 5000, 10),
(5, 'Tourmaline', '363F4A', 0.3, 5000, 5),
(6, 'Ambre', 'EBAE7', 0.2, 5000, 1);


INSERT INTO etudiantGemme(id_etudiant, id_gemme, quantite) VALUES
(513145161, 1, 1),
(513145161, 2, 2),
(513145161, 3, 5),
(513145161, 4, 6),
(513145161, 5, 6),
(513145161, 6, 20);

